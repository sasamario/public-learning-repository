DB（データベース）設計を学ぶことは重要であり、Webエンジニアとしてのスキルを向上させるために役立ちます。以下は、DB設計を学ぶための基本的なステップとロードマップです。

# ChatGPTの出力
基本的なデータベースの理解には、以下の重要な概念や用語を学ぶことが含まれます。
その中でも特に知識が不足していそうな項目やあらためて知りたいことを調べてみる。

1. データベース:
データベースは、組織されたデータのコレクションで、データへのアクセスや管理を容易にします。データベースにはテーブル、ビュー、ストアドプロシージャ、トリガーなどが含まれます。

7. インデックス:
インデックスはデータベースの検索パフォーマンスを向上させるために使用される機能で、特定の列に対して作成されます。

9. トランザクション:
トランザクションはデータベースの一連の操作の単位で、成功するか失敗するか全体がアトミックに処理されます。

10. 正規化:
正規化はデータベース設計のプロセスで、データの冗長性を排除し、データの整合性を向上させるために行われます。


## 1.データベース
### ビューとは？
→一言で言うと「仮想的なテーブル」
1つ以上の表（テーブル）から必要な要素だけを取り出して作った仮想的な表のこと。
ビューはクエリを実行する際に、その都度データを生成する。

テーブルは基本正規化されているため、特定の用途で使いたい場合使いにくこともある。
そんなときにビューが使える場面があるみたい。

またビューは参照だけでなく、データの追加、更新、削除もできる。
→ただ、ビューはあくまでも仮想的なテーブルなので、操作自体は参照元のテーブルに対して行われる。

■メリット
- SQLをシンプルにできる
	- →事前にビューを用意することで結合する必要がなくなりシンプルになる。ビューはテーブルと同じようにSQL内で扱うことができる。

- セキュリティ面の向上
	- 表には権限があり、データベースのユーザごとに設定可能（GRANT文）


■デメリット
- パフォーマンスの低下
	- →テーブルと異なりインデックスの作成ができない。そのため速度面でややパフォーマンスが低下する可能性がある。


■参考
- [ビューとは（データベース）](https://medium-company.com/%E3%83%93%E3%83%A5%E3%83%BC/)
- [ビューとは？使い方を解説](https://products.sint.co.jp/siob/blog/view)


### ストアドプロシージャとは？
一言で言うと「データベースに対する複数の命令をまとめたもの」

ストアドプロシージャとは、データベースに対する複数の命令をまとめてRDBMS に保存する「ストアドプログラム」という機能の一種。
データベース内で実行され、複数のSQLステートメント（DBに対して実行する命令やクエリを表す文）をまとめて実行したりするのに利用される。

■メリット
- パフォーマンスの向上
	- ストアドプロシージャはデータベース内でコンパイルしたものが保存されている。これによりクエリの実行速度が向上しパフォーマンス向上につながる。

- 再利用性
	- ストアドプロシージャにすることで、再利用することができる。そのため同じ処理を繰り返し実装する必要がなくなる。

- セキュリティの向上
	- ストアドプロシージャはデータベースユーザアカウントに関連づけられていて、実行権限の制御が容易。
	- また、アプリケーションからデータを直接操作するのではなくあくまでもストアドを呼ぶことでセキュリティ面の向上が期待できる。


■デメリット
- データベース製品によって記述が異なる
- アプリケーションの変更によってストアドの変更も必要になることもある

■参考
- [ストアドプロシージャとは？利点や書き方を解説](https://products.sint.co.jp/siob/blog/storedprocedure)


## 7.インデックス
### インデックスとは
データベースのインデックスは、データベース内のテーブルの特定の列に対して、データの検索やソートのパフォーマンスを向上させるためのデータ構造。

■メリット
- 高速なデータ検索、ソートの高速化
	- インデックスを使用することで、対象となる列に対して高速な検索やソートを行うことができる。
	- インデックスがないとテーブルの全体から調べる必要があるのに対して、インデックスは全体から調べる必要がない。

- 一意性の確認
	- ユニークな制約を持つ列に対するインデックスを作成することで、重複を防ぐことができる。

- 順序付けられたデータの効率的な格納
	- インデックスはデータを物理的にソートされた状態で格納し、特定の列に対して順序付けられた検索が効率的に行える。


■デメリット
- データ更新のコストが増える
	- データの挿入、更新、削除のたびにインデックスも更新されるため。
	- また、インデックスはテーブルとは別の領域で管理されている。

- 場合によってはパフォーマンス低下
	- 適切なインデックスを作成しないと、パフォーマンスが低下する。


一般的には、検索や結合が頻繁に行われる列や、一意性が求められる列に対してインデックスを作成することが効果的とのこと。


## 9.トランザクション
### トランザクションとは
複数のSQLステートメントをまとめて一つの処理単位として扱うもの。
トランザクションはACIDプロパティに従っていることが期待される

- Atomicity（原子性）
	- トランザクションは原子的な単位で、全ての操作が成功するか失敗するかのいずれかであることを保証します。
	- ★トランザクション内の一部の操作が失敗した場合、それまでの変更は全て取り消されます。

- Consisetency（一貫性） → トランザクション処理の前後でデータの整合性が保証される性質
	- トランザクションの実行前後でデータベースは一貫性を保つ必要があります。
	- つまり、トランザクションが実行される前と後で、データベースはある事前定義のルールや条件を満たす必要があります。

- Isolation（独立性） → 要は他トランザクションの影響は受けない
	- 複数のトランザクションが同時に実行されても、各トランザクションは他のトランザクションから隔離されているように振る舞います。
	- つまり、他のトランザクションの実行中に発生する変更が、各トランザクションに対して見えないようになります。

- Durability（耐久性） → 要は確定したら、その結果は保証される！！！
	- トランザクションが成功すると、その変更は永続的であり、データベースがクラッシュしても失われません。
	- データベースは必要な手段を講じて、トランザクションが永続的に保存されることを保証します。

■参考
- [【SQL基礎】ACID特性](https://tech.pjin.jp/blog/2020/11/30/%E3%80%90sql%E5%85%A5%E9%96%80%E3%80%91acid%E7%89%B9%E6%80%A7/)


## 10.正規化
### 正規化とは
以下ChatGPTでの出力
正規化は、データベースの設計プロセスにおいてデータの冗長性を排除し、データの整合性を維持するための手法。
正規化にはいくつかのステップがある（第1〜第5正規形、BC正規化）

正規化はDB設計において重要であるが、過度な正規化はパフォーマンスの低下を招く可能性もあるため適切に行うように。

正規化を行うことで、以下の効果がある。
- データ整合性の向上（データの不整合や矛盾を減らす）
- データ冗長性の削減（同じデータを複数回格納するのを防ぐ）
- データ更新の効率化（データが複数箇所に分散されないため、更新が容易になる）
- 柔軟性の向上（データの追加や変更が容易になる）

各正規化については参考記事を見ること

■参考（※補足）
- [正規化の要点を理解する](https://qiita.com/mochichoco/items/2904384b2856db2bf46c)