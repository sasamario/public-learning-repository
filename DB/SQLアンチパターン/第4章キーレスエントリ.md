# 第4章キーレスエントリ（外部キー嫌い） p43〜49

## アンチパターンが発生する背景
外部キー制約を使用しない

## アンチパターンによる影響
- データの整合性を保証することが難しい
- データの整合性を保つためのコスト（確認用のスクリプトを用意する等）がかかる
- アプリケーション側の負担がかかる（ロジック側で保証するような作りにする必要がある）

## 解決策
外部キー制約を使用する。  
ミスを防止するためにも外部キー制約で強制することで、データの不整合を登録する時点で検出することができる。  


# 不明点調査
## カスケードとは
データの整合性と一貫性を確保することを主な目的として、RDB内の親要素から関連する子要素へのイベントまたは変更の伝播を指す。  
整合性を維持するためにも有用であるが、一方で意図しない削除や更新が発生する可能性があるためそのあたり考慮する必要がある。

以下ChatGPTによる出力。  
具体的には、主に次の2つのコンテキストで使用されます：  

1. 削除カスケード（Delete Cascade）：  
これは、親テーブルのレコードが削除されたときに、関連する子テーブルのレコードも自動的に削除される仕組みを指します。  
つまり、親テーブルのレコードが削除されると、それに関連する子テーブルのレコードも自動的に削除されます。

2. 更新カスケード（Update Cascade）：  
これは、親テーブルの主キーが更新された場合に、それに関連する子テーブルの外部キーも自動的に更新される仕組みを指します。  
つまり、親テーブルの主キーが変更されると、それに関連する子テーブルの外部キーも自動的に更新されます。

■参考
- [カスケード](https://appmaster.io/ja/glossary/kasukedo)