# 第5章エンティティ・アトリビュート・バリュー（EAV） p51~66
## アンチパターンが発生する背景
可変属性を許容する（柔軟性を高める）ために、汎用的な属性テーブルを使用する  

### 汎用的な属性テーブルとは？
いわゆる属性とその属性値をカラムとしてもつテーブル。  

汎用的な属性テーブルは以下のメリットがある。
- 新しい属性値を追加する際に既存テーブルのカラムを増やす必要がない。（汎用的な属性テーブルにレコードを追加すれば良いので）
- テーブルのカラム数（列数）を減らすことができる→属性値用のテーブルで担うため


## アンチパターンによる影響
汎用的な属性テーブルを利用することによる影響は以下の通り
- 必須属性の設定ができない
	- 自身のテーブルカラムに属性値を持つ場合は、NOT NULL製薬で必須扱いにできるが、属性テーブルだと行単位で属性値を持つため、制約による必須設定が難しい。
- DBのデータ型を活用できない
	- 属性テーブルでは様々な属性をレコードでもつことから、文字列型で定義する。そのため、型によって無効データを弾くことができない（できないことはないが、型用のカラムを用意するなど対応が必要になり、結果クエリが複雑化する...）
- 参照整合性を矯正できない
	- 上記同様、様々な属性をレコードで持つため参照整合性の設定ができない（特定の属性のレコードにのみ設定！ということができないため）
- クエリが複雑になる
	- 特定の属性値を取得するために複数の結合が必要になり、複雑化する