# 第2章ナイーブツリー（素朴な木） p13〜31
結論： TODO:全て読み終わったら記載

## アンチパターン発生の背景
階層型のデータ（例：スレッド形式の掲示板）で、親にのみ依存する構造としている  
※上記を許容する場合もある


## アンチパターンによる影響
以下の場合に難しくなったり、複雑化する
- 子孫データなど遠い関係を持つデータの取得
- データのメンテナンス（削除）
	- →ノードを削除すると子孫ノードから順に削除する必要が出てくる（整合性制約）

## 解決策




## 参考サイト
- [ツリー構造のデータをRDBで扱う](https://qiita.com/tosh_m/items/d11c47e81508b92426fb)


## 不明点調査
### 隣接リスト
各ノードが親ノードへの参照を持つ手法。

以下ChatGPTに出力してもらったテーブルとデータサンプル。  

```sql
CREATE TABLE Employee (
    EmployeeID INT PRIMARY KEY,
    Name VARCHAR(50),
    ManagerID INT, -- 親ノードへの参照
    FOREIGN KEY (ManagerID) REFERENCES Employee(EmployeeID)
);

-- データの例
INSERT INTO Employee (EmployeeID, Name, ManagerID) VALUES
(1, 'CEO', NULL), -- 最上位のノード
(2, 'Manager A', 1), -- CEOの直下のノード
(3, 'Manager B', 1), -- CEOの直下のノード
(4, 'Employee X', 2), -- Manager Aの直下のノード
(5, 'Employee Y', 2), -- Manager Aの直下のノード
(6, 'Employee Z', 3); -- Manager Bの直下のノード

```
Employeeテーブル  
従業員テーブル。各レコードが従業員データ。ManagerIdが親ノード（上司）への参照を表している。  
最上位の役職は上司がいない（根ノード：最上位ノード）ため、NULLとなっている。  

■メリット  
構造がシンプルで隣接した親子関係のデータ取得が容易。  

■デメリット  
フォルダの階層が深い場合は、その階層分結合が必要になる。  
ただし、再帰クエリをサポートしているDBではこのデメリットは解消できる。