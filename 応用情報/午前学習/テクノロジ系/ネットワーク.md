# 通信プロトコル　※頻出分野（2~5 問）

## OSI 参照モデル

OSI 参照モデルは、コンピュータの通信プロトコルのモデル。  
OSI 参照モデルでは通信プロトコルが 7 層に分かれている。まずはこの参照モデルを押さえておく必要がある！！！

上の層から順に

7.アプリケーション層：どんなサービスを提供するか  
6.プレゼンテーション層：データの形式  
5.セッション層：通信の開始から終了までを管理  
4.トランスポート層：通信の信頼性の保証（TCP/UDP）  
3.ネットワーク層：ネットワーク同士の中継  
2.データリンク層：同一ネットワーク内でどう通信するか  
1.物理層：物理的にどう繋ぐか

覚え方としては、上から「アプセトネデブ」と覚えると良い。

■ 参考  
[【初心者必見】OSI 参照モデル アプセトネデブで覚えよう](https://envader.plus/article/38)  
キタミ式 p516 プロトコルと OSI 基本参照モデル

### 第一層 物理層

■ 役割
データをビット(0,1)の形で電気信号や光信号として送受信したり増幅したりする。  
要は、「物理的な通信手段（ケーブル、電波など）」を扱う層。

■ 代表的な機器  
・LAN ケーブル  
・リピータ：中継機器。ケーブルを流れる電気信号を増幅して、LAN の総延長距離を伸ばす  
・NIC(Network Interface Card)：コンピュータをネットワークに雪像するための拡張カード。データを電気信号に変換してケーブルに流す  
・Wifi

### 第二層 データリンク層

■ 役割  
異なるセグメント間（セグメントは論理的に 1 本のケーブルで繋がっている範囲）とのデータ転送を行う。

■ 代表的な機器  
・ブリッジ：流れてきたパケットの MAC アドレス情報を確認し、必要に応じて他方のセグメントへパケットを流す

■ プロトコル  
・ARP(Address Resolution Protocol)　※よく出る

### 第三層 ネットワーク層

■ 役割  
ネットワーク層は、異なるネットワーク間の通信を担う。  
異なるネットワーク間の通信を実現するために、通信相手を特定できるようにする方法として IP アドレス情報を使う。

■ 代表的な機器  
・ルータ

■ プロトコル  
・IP

### ゲートウェイ

ゲートウェイは、第四層 トランスポート層以上で異なるネットワーク間でプロトコル変換による中継機能を提供する装置。

## OSI 参照モデルと TCP/IP の関係図

<img width="636" alt="Image" src="https://github.com/user-attachments/assets/5593e8eb-1131-4f7b-9dff-ab007af2dd82" />

引用元：[OSI 参照モデルとは？TCP/IP との違いを図解で解説](https://www.itmanage.co.jp/column/osi-reference-model/)

# 第二層 データリンク層のプロトコル

■ キーワード
★ARP、RARP  
・PPP  
・PPPoE  
・IPoE  
・VLAN

## ★ARP(Address Resolution Protocol)　とてもよく出る！！！過去 10 問ほど

アドレス解決プロトコル。IP アドレスから対応する機器の MAC アドレスを取得するプロトコル。  
ネットワーク通信では、データを送る際に宛先の MAC アドエスが必要だが、IP アドレスしかわからない場合に使われる。  
例えば、「初めて通信する相手にデータを送る時」「デフォルトゲートウェイ（ルーター）に通信する時」など

以下の手順で IP アドレスから MAC アドレスを取得する。

1. 要求パケットに MAC アドレスを取得したい IP アドレスと、送信元の IP アドレス・MAC アドレスを格納して同一セグメント内にブロードキャストする
2. 要求パケットを受け取った各ノードは、自分の IP アドレスであれば自分の MAC アドレスを送信元に伝える

※ブロードキャストとは、ネットワーク上のすべての端末に対して同じデータを一斉送信すること  
※逆に 1 対 1 の通信を、ユニキャストという。ARP の応答パケットはユニキャスト

また逆に、MAC アドレスから IP アドレスを取得するプロトコルを「RARP(Reverse Address Resolution Protocol)」という。

■ 参考過去問  
・[ARP の説明はどれか R3 秋 32, H28 秋 32, H24 春 33, H20 秋 53](https://www.ap-siken.com/bunya.php?m=10&s=3&no=21)  
・[ARP の説明として適切なものはどれか R1 秋 33](https://www.ap-siken.com/bunya.php?m=10&s=3&no=29)  
・[RARP の機能として適切なもの H30 春 34, H25 春 33, H19 春 51](https://www.ap-siken.com/bunya.php?m=10&s=3&no=35)  
・[MAC アドレスを取得するプロトコル H29 秋 34](https://www.ap-siken.com/bunya.php?m=10&s=3&no=37)  
・[ARP 要求・応答パケット H23 特 37](https://www.ap-siken.com/bunya.php?m=10&s=3&no=66)  
・[RARP H22 秋 36](https://www.ap-siken.com/bunya.php?m=10&s=3&no=67)

## PPP(Point-to-Point Protocol)

PPP(Point-to-Point Protocol)は、2 つのネットワーク機器（主にルーターや PC）を直接接続してデータ通信を行うための通信プロトコル。  
電話回線（ダイヤルアップ）、ISDN、シリアル接続などで使われていた。

PPP 通信には、リンク制御プロトコル(LCP)とネットワーク制御プロトコル(NCP)の 2 つの通信プロトコルが使用されている。

■ 参考過去問  
・[PPP H29 春 33, H26 春 32, H20 秋 55](https://www.ap-siken.com/bunya.php?m=10&s=3&no=39)  
・[PPP に関する記述 H20 春 56](https://www.ap-siken.com/bunya.php?m=10&s=3&no=77)

## PPPoE(PPP over Ethernet)

PPPoE は、Ethernet（イーサネット）を使って、PPP を実現するためのプロトコル。  
PPPoE は家庭や企業のインターネット接続でよく使われる。

PPP の機能である認証、暗号化、圧縮などを Ethernet 上で利用できるようにしたもの。

■Ethernet とは？  
Ethernet は、LAN 内でデバイス同士を接続しデータを送受信するための標準的な通信プロトコル。家庭やオフィスのネットワークで一般的に使われている。  
OSI 参照モデルの物理層とデータリンク層動作する。

■ 参考過去問  
・[PPPoE R4 春 32](https://www.ap-siken.com/bunya.php?m=10&s=3&no=17)
